<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			.ul{
				margin: 10px auto 0 auto;
				padding: 0;
				position: relative;
			}
			.ul li{
				width: 300px;
				padding: 5px;
				position: absolute;
				list-style: none;
				float: left;
				cursor: pointer;
				border: 1px solid teal;
			}
			.ul li img{
				width: 100%;
			}
			.author{
				float: right;
			}
			.authorTxt p{
				text-indent: 25px;
				font-size: 16px;
				margin-top: 5px;
			}
		</style>
	</head>
	<body>
		<ul class="ul">
			<li>
				<img src="img/img2/img%20(1).jpg" alt="">
				<h3>你好啊</h3>
				<div class="author">
					<span>来自： </span><span><mark>王龙金</mark></span>
				</div>
				<br>
				<div class="authorTxt">
					<p>春江潮水连海平，海上明月共潮生。滟滟随波千万里，何处春江无月明。江流宛转绕芳甸，月照花林皆似霰。</p>
				</div>
			</li>
			<li><img src="img/img2/img%20(2).jpg" alt=""></li>
			<li><img src="img/img2/img%20(3).jpg" alt=""></li>
			<li><img src="img/img2/img%20(4).jpg" alt=""></li>
			<li><img src="img/img2/img%20(5).jpg" alt=""></li>
			<li><img src="img/img2/img%20(6).jpg" alt=""></li>
			<li><img src="img/img2/img%20(7).jpg" alt=""></li>
			<li><img src="img/img2/img%20(8).jpg" alt=""></li>
			<li><img src="img/img2/img%20(9).jpg" alt=""></li>
			<li><img src="img/img2/img%20(10).jpg" alt=""></li>
			<li><img src="img/img2/img%20(11).jpg" alt=""></li>
			<li><img src="img/img2/img%20(12).jpg" alt=""></li>
			<li><img src="img/img2/img%20(13).jpg" alt=""></li>
			<li><img src="img/img2/img%20(14).jpg" alt=""></li>
			<li><img src="img/img2/img%20(15).jpg" alt=""></li>
			<li><img src="img/img2/img%20(16).jpg" alt=""></li>
			<li><img src="img/img2/img%20(17).jpg" alt=""></li>
			<li><img src="img/img2/img%20(18).jpg" alt=""></li>
			<li><img src="img/img2/img%20(19).jpg" alt=""></li>
			<li><img src="img/img2/img%20(20).jpg" alt=""></li>
			<li><img src="img/img2/img%20(21).jpg" alt=""></li>
		</ul>
	</body>
</html>
<script >
	window.onresize = function(){
		waterFull("ul");
	}
	window.onload = function(){
		waterFull("ul");
	}	
	
	function waterFull(element,space,children){//目标，上下间距，子节点
		if(!element){
			return;
		}
		space = space || 10;  //上下间距
		children = children || "li";  //子节点
		
		//获取页面元素
		//大盒子
		var box = document.querySelector(element);
		//获取所有的子节点
		var oLi = box.getElementsByTagName(children);
		
		//获取子元素的宽度
		var spaceWidth = oLi[0].offsetWidth;
		//获取大盒子的宽度
		var boxWidth = box.offsetWidth;
		
		//获取显示的列数
		var colNum = Math.floor( boxWidth / spaceWidth); 
		//获取元素之间的padding left
		var padding = Math.floor((boxWidth - colNum*spaceWidth) / (colNum + 1));
		
		//存放初始的top和left值
		var column = new Array();
		
		var maxHeight = 0;
		for(var i=0;i<colNum;i++){
			column[i] = new Object();
			column[i].top = space;
			column[i].left = (spaceWidth * i) + padding*(i+1);
		}
		
		//开始布局了
		for(var i=0;i<oLi.length;i++){
			//计算元素属于第几列
			if((i+1) % colNum == 0){
				sub = colNum;
			}else{
				sub = (i+1) % colNum;
			}
			oLi[i].style.position = "absolute";
			oLi[i].style.top = column[sub - 1].top + "px";
			oLi[i].style.left = column[sub - 1].left + "px";
			//计算各列新高度
			column[sub - 1].top += oLi[i].offsetHeight + space;
		}
		for(var i=0;i<column;i++){
			if(column[i].top > maxHeight){
				maxHeight = column[i].top;
			}
		}
		oLi.style.height = maxHeight + 'px';
	}
</script>
